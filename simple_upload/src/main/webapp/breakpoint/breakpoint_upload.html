<!DOCTYPE html>
<html lang="zh-CN">
<head>
	<meta charset="UTF-8">
	<title>Title</title>
	<link rel="stylesheet" type="text/css" href="Huploadify.css"/>

</head>

<body>
<div id="upload"></div>
<button id="btn1">暂停</button>
<button id="btn2">上传</button>
<button id="btn3">取消</button>
<button id="btn4">disable</button>
<button id="btn5">ennable</button>
<button id="btn6">destroy</button>
<script type="text/javascript" src="/js/jquery.js"></script>
<script type="text/javascript" src="jquery.Huploadify.js"></script>
<style type="text/css">
</style>
<script type="text/javascript">
	$(function(){

		var up = $('#upload').Huploadify({
			auto:true,
			fileTypeExts:'*.vmfk;*.jpg;*.png;*.exe;*.mp3;*.mp4;*.zip;*.doc;*.docx;*.ppt;*.pptx;*.xls;*.xlsx;*.pdf',
			multi:true,
			fileSizeLimit:99999999,
			breakPoints:true,
			saveInfoLocal:true,
			showUploadedPercent:true,//是否实时显示上传的百分比，如20%
			showUploadedSize:true,
			removeTimeout:9999999,
			uploader:'breakpoint_upload',
			onUploadStart:function(){
				//up.settings('formData', {aaaaa:'1111111',bb:'2222'});
				var filename=$('.up_filename').eq(0).text();
				up.Huploadify('settings','formData', {'filename':filename});

			},
			onUploadSuccess:function(file){
				//alert('上传成功');
			},
			onUploadComplete:function(){
				//alert('上传完成');
			},
			/*getUploadedSize:function(file){
			 var data = {
			 data : {
			 fileName : file.name,
			 lastModifiedDate : file.lastModifiedDate.getTime()
			 }
			 };
			 var url = 'http://49.4.132.173:8080/admin/uploadfile/index/';
			 var uploadedSize = 0;
			 $.ajax({
			 url : url,
			 data : data,
			 async : false,
			 type : 'POST',
			 success : function(returnData){
			 returnData = JSON.parse(returnData);
			 uploadedSize = returnData.uploadedSize;
			 }
			 });
			 return uploadedSize;
			 }	*/
		});

		$('#btn1').click(function(){
			up.stop();
		});
		$('#btn2').click(function(){
			up.upload('*');
		});
		$('#btn3').click(function(){
			up.cancel('*');
		});
		$('#btn4').click(function(){
			//up.disable();
			up.Huploadify('disable');
		});
		$('#btn5').click(function(){
			up.ennable();
		});
		$('#btn6').click(function(){
			up.destroy();
		});

	});
</script>
</body>
</html>
